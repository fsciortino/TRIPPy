import TRIPPy.surface
import scipy

#data I found from /home/hutch/work/bolo/ this is horrid and there IS NO DOCUMENTATION
# this is all I've been able to glean

def det(origin,ang1=120.,ang2=150.,offset=.01,ang,):
    
    norm = TRIPPy.Vec((0.,0.,1.))
    meri = TRIPPy.Vec((0.,1.,0.))
    area = [2*scipy.sin(ang1/2.),2*scipy.sin(ang2/2.)]
    TRIPPy.surface.Rect((0.,0.,offset), origin, area)

    return temp

def ap(plasma, angle(-scipy.pi/3, 0., 0.), loc=(.922,0,-.261), area=scipy.pi*pow(5e-5,2)):
    return TRIPPy.surface.Rect(loc,plasma,area=[scipy.sqrt(area),scipy.sqrt(area)],angle=angle) #actually a circular pinhole, but whatever

def 2pi(plasma,angle=(-scipy.pi/3,0.,0.),loc=(.922,0,-.261),area=scipy.pi*pow(5e-5,2)):
    ap = ap(plasma,angle=angle,loc=loc,area=area)
    temp = det(ap)
    temp.redefine(plasma)
    return [temp,ap]
